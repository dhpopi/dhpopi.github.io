{{ define "main" }}

<div class="hero-grid-bg">
  <section class="hero">
    <div class="hero-left">
      <div class="hero-greet">Hi,</div>
      <h1 class="hero-title">{{ site.Title }}</h1>
      <p class="hero-desc">
        记录技术、随笔与项目。<br />
        也欢迎来 GitHub 找我玩。
      </p>

      <div class="hero-icons">
        {{ with site.Params.socialIcons }}
          {{ range . }}
            <a class="hero-icon" href="{{ .url }}" target="_blank" rel="noopener noreferrer">
              {{ .name }}
            </a>
          {{ end }}
        {{ end }}
      </div>

      <a class="hero-cta" href="#posts">我写的文章 ↓</a>
    </div>

    <div class="hero-right">
      <div class="hero-photo">
        <img src="/images/hero.png" alt="hero" />
      </div>
    </div>
  </section>
</div>

<div id="posts"></div>

<section class="home-posts">
  {{/* 只取 posts 下面的文章 */}}
  {{ $pages := where site.RegularPages "Section" "posts" }}
  {{ $paginator := .Paginate $pages }}

  {{ range $paginator.Pages }}
    <article class="home-post">
      <h2 class="home-post-title">
        <a href="{{ .RelPermalink }}">{{ .Title }}</a>
      </h2>

      <div class="home-post-meta">
        <time datetime="{{ .Date }}">{{ .Date.Format "2006-01-02" }}</time>
        {{ with .Params.tags }}
          <span class="home-post-tags">
            ·
            {{ range $i, $t := . }}
              {{ if $i }}, {{ end }}
              <a href="{{ printf "/tags/%s/" ($t | urlize) | relURL }}">#{{ $t }}</a>
            {{ end }}
          </span>
        {{ end }}
      </div>

      {{ with .Summary }}
        <p class="home-post-summary">{{ . }}</p>
      {{ end }}
    </article>
  {{ end }}

  <nav class="home-pagination">
    {{ if $paginator.HasPrev }}
      <a href="{{ $paginator.Prev.URL }}">← 上一页</a>
    {{ end }}
    {{ if $paginator.HasNext }}
      <a href="{{ $paginator.Next.URL }}">下一页 →</a>
    {{ end }}
  </nav>
</section>

{{ end }}
